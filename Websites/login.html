<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In |  Fishee E-Commerce</title>
    <link rel="stylesheet" href="styling.css">
</head>

<body>
    <header id="header" style="min-width: 550px;">
        <div class="common_header">
            <a href="homepage.html"><img src="../Images/Fishee.png" height="65" alt="Fishee logo"></a>
        </div>      
        <div class="common_header">
            <ul>
                <li><a class="header_words" href="contactpage.html"><h3>Contact Us</h3></a></li>
            </ul>
        </div>      
        <div class="common_header">
            <form>
                <input style="width: 400px;" type="search" id="searchbar" name="searchbar" placeholder="Search in Fishee">
            </form>
        </div>
        <div class="invis_header">
            <ul>
                <li><a class="header_words" href="login.html">Log In</a></li>
                <li>/</li>
                <li><a class="header_words" href="signup.html">Sign Up</a></li>
            </ul>
        </div>
        <a href="shoppingcart.html"><div class="shopping_header"></div></a>
    </header>

    <br>
    <article>
    <div id="login_signin">
        <h2>Welcome to Fishee! Please Login.</h2>
        <form name="login_form" onsubmit="return validateForm()" action="homepage.html">
            <label for="login_credential">Email</label> <br>
            <input class="input" type="email" name="login_credential" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.{a-z}{2}$" required> <br>
            <small>example@example.com</small><br><br>
            <label for="password">Password</label> <br>
            <input class="input" type="password" name="password" required> <br><br>
            <input class="button" type="submit" value="Continue" required> <br>
            <hr>
            <a style="text-decoration: none;" href="password_reset.html">Forgot Password?</a> <br><br>
            New to Fishee? <a href="signup.html">Sign Up</a>!
        </form>

        <script>
            function checklowerletterPassword(str) {
                const lowerletterPassword = /[qwertyuiopasdfghjklzxcvbnm]/;
                return lowerletterPassword.test(str);
            }

            function checkupperletterPassword(str) {
                const upperletterPassword = /[QWERTYUIOPASDFGHJKLZXCVBNM]/;
                return upperletterPassword.test(str);
            }

            function checknumberPassword(str) {
                const numberPassword = /[1234567890]/;
                return numberPassword.test(str);
            }

            function checksymbolPassword(str) {
                const symbolPassword = /[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
                return symbolPassword.test(str);
            }

            function validateForm() {
                let validate_email = document.forms["login_form"]["login_credential"].value;
                let validate_password = document.forms["login_form"]["password"].value;

                if (validate_email.includes("@gmail.com") != true){
                    if (validate_email.includes("@outlook.com") != true) {
                        if (validate_email.includes("@yahoo.com") != true) {
                            alert("You have entered an invalid email address");
                            return false
                        }
                    }
                }

                if (validate_password.length < 8) {
                    alert("Please enter your password.");
                    return false;
                }
                else if(checklowerletterPassword(validate_password) == false) {
                    alert("Please enter your password.");
                    return false;
                }
                else if (checkupperletterPassword(validate_password) == false) {
                    alert("Please enter your password.");
                    return false;
                }
                else if (checknumberPassword(validate_password) == false) {
                    alert("Please enter your password.");
                    return false;
                }
                else if(checksymbolPassword(validate_password) == false) {
                    alert("Please enter your password.");
                    return false;
                }

                alert("You have logged into your Fishee account");
            }
        </script>

    </div>
    </article>

    <footer id="footer" style="min-width: 557px;">
        <p><small><i>Copyright &copy; 2023 Chan Yung Hann, Bachelors in Software Engineering, Sunway University</i></small></p>
        <p><small><i>Page created on 10/30/2023 12:13:40</i></small></p>
        <p><small><i>Page last updated on </i><i id="update"></i></small></p>

        <script>
            let text = document.lastModified;
            document.getElementById("update").innerHTML = text;
        </script>
    </footer>
</body>
</html>